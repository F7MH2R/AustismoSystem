<!-- templates/paciente/examenes.html -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="fragments/layout :: layout(~{::title}, ~{::body})">
<head>
    <title>Exámenes Disponibles</title>
</head>
<body>
<div class="container mt-2 col-lg-8">
    <h2>Exámenes Disponibles</h2>
    <form th:action="@{/paciente/examenes}" method="get">
        <label>Edad:
            <select name="grupoEdad">
                <option value="">Todos</option>
                <option value="niño">Niños</option>
                <option value="adulto">Adultos</option>
            </select>
        </label>
        <label>Tipo:
            <select name="tipo">
                <option value="">Todos</option>
                <option value="general">General</option>
                <option value="específica">Específica</option>
            </select>
        </label>
        <button type="submit">Filtrar</button>
    </form>
    <table>
        <thead>
        <tr>
            <th>Título</th>
            <th>Descripción</th>
            <th>Tipo</th>
            <th>Edad</th>
            <th># Preguntas</th>
            <th>Duración (min)</th>
            <th>Acciones</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="e : ${examenes}">
            <td th:text="${e.titulo}">Título</td>
            <td th:text="${e.descripcion}">Desc</td>
            <td th:text="${e.tipo}">Tipo</td>
            <td>
                <span th:text="${e.edadMinima}"></span>–<span th:text="${e.edadMaxima}"></span>
            </td>
            <td th:text="${e.numeroPreguntas}">0</td>
            <td th:text="${e.duracion}">0</td>
            <!-- aquí añadimos la columna de acciones -->
            <td>
                <a th:href="@{|/paciente/examen/${e.id}|}"
                   class="btn btn-primary">
                    Realizar examen
                </a>
            </td>
        </tr>
        </tbody>
    </table>
</div>
</body>
</html>
